# SubGen-Azure-Batch Environment Configuration
# Copy this file to .env and fill in your values
# https://github.com/TimoVerbrugghe/subgen-azure-batch

# ==============================================================================
# AZURE SPEECH SERVICES (REQUIRED)
# ==============================================================================
# Get your key from: https://portal.azure.com -> Speech Services
AZURE_SPEECH_KEY=your-azure-speech-key-here
AZURE_SPEECH_REGION=swedencentral

# ==============================================================================
# AZURE BLOB STORAGE (REQUIRED)
# ==============================================================================
# The Batch Transcription API requires audio files to be accessible via URL.
# SubGen-Azure-Batch uploads audio to Azure Blob Storage and uses SAS tokens.
# Get your connection string from: Azure Portal -> Storage Account -> Access Keys
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=youraccount;AccountKey=yourkey;EndpointSuffix=core.windows.net
AZURE_STORAGE_CONTAINER=subgen-audio

# ==============================================================================
# GENERAL SETTINGS
# ==============================================================================
SUBGEN_AZURE_BATCH_PORT=9000
SUBGEN_AZURE_BATCH_DEBUG=false
SUBGEN_AZURE_BATCH_LOG_LEVEL=INFO

# ==============================================================================
# TRANSCRIPTION SETTINGS
# ==============================================================================
# Default language for transcription (ISO 639-1 code)
DEFAULT_LANGUAGE=en

# Maximum concurrent transcriptions (Azure has rate limits)
CONCURRENT_TRANSCRIPTIONS=2

# Timeout for waiting for transcription to complete (seconds)
TRANSCRIPTION_TIMEOUT=3600

# ==============================================================================
# SUBTITLE SETTINGS
# ==============================================================================
# How to name subtitle files: iso_639_1 (en), iso_639_2 (eng), or full (English)
SUBTITLE_LANGUAGE_NAMING=iso_639_1

# Append .subgen to subtitle filename (movie.subgen.en.srt vs movie.en.srt)
APPEND_SUFFIX=true

# ==============================================================================
# BAZARR INTEGRATION
# ==============================================================================
# Leave empty if not using Bazarr
BAZARR_URL=http://localhost:6767
BAZARR_API_KEY=

# ==============================================================================
# PLEX INTEGRATION (Optional)
# ==============================================================================
# Configure webhooks in Plex: Settings -> Webhooks -> Add Webhook
# URL: http://subgen-azure-batch:9000/plex
PLEX_SERVER=http://localhost:32400
PLEX_TOKEN=
PLEX_PROC_ADDED_MEDIA=true
PLEX_PROC_MEDIA_ON_PLAY=false

# ==============================================================================
# JELLYFIN INTEGRATION (Optional)
# ==============================================================================
# Configure webhooks in Jellyfin: Dashboard -> Plugins -> Webhook
# URL: http://subgen-azure-batch:9000/jellyfin
JELLYFIN_SERVER=http://localhost:8096
JELLYFIN_TOKEN=
JELLYFIN_PROC_ADDED_MEDIA=true
JELLYFIN_PROC_MEDIA_ON_PLAY=false

# ==============================================================================
# EMBY INTEGRATION (Optional)
# ==============================================================================
# Configure webhooks in Emby: Settings -> Notifications -> Webhooks
# URL: http://subgen-azure-batch:9000/emby
EMBY_SERVER=http://localhost:8096
EMBY_TOKEN=
EMBY_PROC_ADDED_MEDIA=true
EMBY_PROC_MEDIA_ON_PLAY=false

# ==============================================================================
# TAUTULLI INTEGRATION (Optional)
# ==============================================================================
# Configure webhooks in Tautulli: Settings -> Notification Agents -> Webhook
# URL: http://subgen-azure-batch:9000/tautulli

# ==============================================================================
# PATH MAPPING
# ==============================================================================
# Use path mapping when container paths differ from host/media server paths
USE_PATH_MAPPING=false
# Example: Media server sees /data/tv but container mounts at /tv
PATH_MAPPING_FROM=/data/tv
PATH_MAPPING_TO=/tv

# ==============================================================================
# SKIP SETTINGS
# ==============================================================================
# Skip if external subtitle already exists
SKIP_IF_SUBTITLE_EXISTS=true

# Skip if internal subtitle exists in this language (comma-separated ISO codes)
# Example: eng,en
SKIP_IF_INTERNAL_SUBTITLE_LANG=

# ==============================================================================
# DOCKER VOLUME PATHS (for docker-compose.yml)
# ==============================================================================
TV_PATH=/mnt/tv
MOVIES_PATH=/mnt/movies
